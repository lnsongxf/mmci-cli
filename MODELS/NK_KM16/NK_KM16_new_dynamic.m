function [residual, g1, g2, g3] = NK_KM16_new_dynamic(y, x, params, steady_state, it_)
%
% Status : Computes dynamic model for Dynare
%
% Inputs :
%   y         [#dynamic variables by 1] double    vector of endogenous variables in the order stored
%                                                 in M_.lead_lag_incidence; see the Manual
%   x         [nperiods by M_.exo_nbr] double     matrix of exogenous variables (in declaration order)
%                                                 for all simulation periods
%   steady_state  [M_.endo_nbr by 1] double       vector of steady state values
%   params    [M_.param_nbr by 1] double          vector of parameter values in declaration order
%   it_       scalar double                       time period for exogenous variables for which to evaluate the model
%
% Outputs:
%   residual  [M_.endo_nbr by 1] double    vector of residuals of the dynamic model equations in order of 
%                                          declaration of the equations.
%                                          Dynare may prepend auxiliary equations, see M_.aux_vars
%   g1        [M_.endo_nbr by #dynamic variables] double    Jacobian matrix of the dynamic model equations;
%                                                           rows: equations in order of declaration
%                                                           columns: variables in order stored in M_.lead_lag_incidence followed by the ones in M_.exo_names
%   g2        [M_.endo_nbr by (#dynamic variables)^2] double   Hessian matrix of the dynamic model equations;
%                                                              rows: equations in order of declaration
%                                                              columns: variables in order stored in M_.lead_lag_incidence followed by the ones in M_.exo_names
%   g3        [M_.endo_nbr by (#dynamic variables)^3] double   Third order derivative matrix of the dynamic model equations;
%                                                              rows: equations in order of declaration
%                                                              columns: variables in order stored in M_.lead_lag_incidence followed by the ones in M_.exo_names
%
%
% Warning : this file is generated automatically by Dynare
%           from model file (.mod)

%
% Model equations
%

residual = zeros(72, 1);
T27 = (-1)/(params(9)*(1+params(27))-1);
T30 = 1/(1-params(9));
T36 = params(7)*y(75)^(1+params(27));
T38 = params(9)*(1+params(27))/(params(9)-1);
T39 = y(70)^T38;
T47 = params(9)/(params(9)-1);
T48 = y(70)^T47;
T64 = params(42)*y(83)^params(26);
T68 = T64*(1+y(88))/y(88);
T70 = 1/params(11);
T79 = (y(102)/y(83))^(-params(26));
T80 = params(15)*y(47)*T79;
T85 = T80/y(101);
T161 = params(19)*exp(y(59)/100);
T177 = params(15)*params(16)*y(94)^params(17);
T182 = y(32)^(params(17)*(-params(13)));
T187 = params(19)*exp(y(100)/100);
T191 = T187^((-params(17))*(1-params(13)));
T192 = T177*T182*T191;
T201 = params(15)*params(16)*y(94)^(params(17)-1);
T204 = y(32)^(params(13)*(1-params(17)));
T207 = T187^((1-params(13))*(1-params(17)));
T219 = params(16)*T161^((1-params(13))*(1-params(17)));
T221 = y(5)^(params(13)*(1-params(17)));
T222 = T219*T221;
T223 = y(32)^(params(17)-1);
T238 = y(5)^(-params(8));
T241 = T161^(params(8)-1);
T255 = params(10)*y(6)^T30;
T257 = y(36)^((-1)/(1-params(9)));
T263 = params(7)*y(21)^(1+params(27));
T264 = y(41)^T38;
T269 = params(15)*params(10)*y(95)^T38;
T278 = y(41)^T47;
T282 = params(15)*params(10)*y(95)^(1/(params(9)-1));
T300 = params(16)*y(32)^params(17);
T301 = T161^((-params(17))*(1-params(13)));
T302 = T300*T301;
T304 = y(5)^(params(13)*(-params(17)));
T305 = T302*T304;
T312 = (y(90)/y(20))^(-params(26));
T313 = params(15)*y(47)*T312;
T314 = y(94)^(-1);
T315 = T313*T314;
T322 = params(42)*y(20)^params(26);
T324 = (1+y(35))*T322/y(35);
T419 = (y(8)/params(44))^params(54)*exp(x(it_, 1));
T427 = (y(7)/params(45))^params(55);
T577 = 1/params(60);
T581 = 1/params(59);
residual(1) = y(69)-1/params(38);
residual(2) = y(69)-y(70)/y(43);
lhs =(params(9)*y(71)/y(72))^T27;
rhs =y(70)^T30;
residual(3)= lhs-rhs;
lhs =y(71);
rhs =T36*T39;
residual(4)= lhs-rhs;
lhs =y(72);
rhs =y(75)*(1-y(74))*y(73)*T48;
residual(5)= lhs-rhs;
residual(6) = y(82)-y(83)-y(42);
residual(7) = y(82)-y(43)*y(75);
lhs =y(76);
rhs =T68^T70;
residual(8)= lhs-rhs;
lhs =1;
rhs =T80*y(80);
residual(9)= lhs-rhs;
lhs =1;
rhs =T85*(1+y(86)-y(104)*(1-params(4))*(y(103)-y(86)));
residual(10)= lhs-rhs;
lhs =y(87);
rhs =T85*(1+y(104)*(1-params(4)));
residual(11)= lhs-rhs;
residual(12) = y(73)-y(83)^(-params(26));
lhs =y(79);
rhs =(1-params(4))*y(4)/y(81)+y(77)+y(44);
residual(13)= lhs-rhs;
lhs =y(4)*(1-params(4))*y(3)/y(81)+y(86)*y(77);
rhs =y(79)*y(78)-y(44)*y(78);
residual(14)= lhs-rhs;
lhs =y(77)+y(76)+y(75)*y(70)*y(74)-y(2)/y(81);
rhs =y(42)+y(4)*(params(4)+y(3))/y(81);
residual(15)= lhs-rhs;
lhs =y(84)/4;
rhs =params(32)*y(17)/4+params(33)*y(89)/4+params(34)*y(85)/4;
residual(16)= lhs-rhs;
lhs =y(81);
rhs =T161;
residual(17)= lhs-rhs;
lhs =y(80);
rhs =(1+y(88))/y(101);
residual(18)= lhs-rhs;
residual(19) = y(31)-y(18)*y(33)*y(34)-T192*y(93);
residual(20) = y(39)-y(18)*y(33)-T201*T204*T207*y(98);
residual(21) = y(40)-params(38)*y(31)/y(39);
residual(22) = 1-T222*T223-(1-params(16))*y(40)^(1-params(17));
residual(23) = y(34)-y(41)/y(43);
lhs =y(36);
rhs =y(32)*T238*T241;
residual(24)= lhs-rhs;
lhs =y(41)^T30;
rhs =(1-params(10))*(params(9)*y(37)/y(38))^T27+T255*T257;
residual(25)= lhs-rhs;
lhs =y(37);
rhs =T263*T264+T269*y(96);
residual(26)= lhs-rhs;
lhs =y(38);
rhs =y(21)*y(33)*(1-y(28))*T278+T282*y(97);
residual(27)= lhs-rhs;
residual(28) = y(18)-y(20)-y(42);
residual(29) = y(18)-y(43)*y(21)/y(19);
residual(30) = y(19)-(1-params(16))*y(40)^(-params(17))-T305*y(1);
lhs =1;
rhs =T315*(1+y(35));
residual(31)= lhs-rhs;
lhs =y(23);
rhs =T324^T70;
residual(32)= lhs-rhs;
lhs =1;
rhs =T315*(1+y(24)-(1-params(4))*y(91)*(y(92)-y(24)));
residual(33)= lhs-rhs;
lhs =y(22);
rhs =T315*(1+(1-params(4))*y(91));
residual(34)= lhs-rhs;
residual(35) = y(33)-y(20)^(-params(26));
lhs =y(26);
rhs =y(44)+(1-params(4))*y(4)/y(32)+y(27);
residual(36)= lhs-rhs;
lhs =y(4)*(1-params(4))*y(3)/y(32)+y(24)*y(27);
rhs =y(26)*y(25)-y(44)*y(25);
residual(37)= lhs-rhs;
lhs =y(27)+y(23)+y(21)*y(41)*y(28)-y(2)/y(32);
rhs =y(42)+y(4)*(params(4)+y(3))/y(32);
residual(38)= lhs-rhs;
lhs =y(55);
rhs =params(32)*y(12)+params(33)*y(56);
residual(39)= lhs-rhs;
lhs =y(49)/4;
rhs =(1-params(56))*(y(59)+params(57)*(y(51)/4-y(59))+params(58)*(y(48)-y(85)))+params(56)*y(11)/4+y(60);
residual(40)= lhs-rhs;
lhs =y(59);
rhs =params(60)*y(13)+x(it_, 5);
residual(41)= lhs-rhs;
lhs =y(60);
rhs =params(59)*y(14)+x(it_, 4);
residual(42)= lhs-rhs;
residual(43) = y(43)/params(44)-T419;
residual(44) = y(42)/params(45)-T427*exp(x(it_, 2)/100);
lhs =y(44);
rhs =params(48)*y(9)+x(it_, 3);
residual(45)= lhs-rhs;
lhs =log(y(47));
rhs =params(67)*log(y(10))+x(it_, 6);
residual(46)= lhs-rhs;
lhs =y(51);
rhs =4*100*log(y(32)/params(19));
residual(47)= lhs-rhs;
lhs =y(49);
rhs =4*100*(y(35)-params(28));
residual(48)= lhs-rhs;
lhs =y(50);
rhs =4*100*(y(24)-params(28));
residual(49)= lhs-rhs;
lhs =y(58);
rhs =4*100*(y(25)-params(22));
residual(50)= lhs-rhs;
lhs =y(48);
rhs =100*log(y(18)/params(35));
residual(51)= lhs-rhs;
lhs =y(85);
rhs =100*log(y(82)/params(35));
residual(52)= lhs-rhs;
lhs =y(54);
rhs =100*log(y(20)/params(2));
residual(53)= lhs-rhs;
lhs =y(53);
rhs =100*log(y(41)/params(43));
residual(54)= lhs-rhs;
lhs =y(52);
rhs =100*log(y(21)/params(36));
residual(55)= lhs-rhs;
lhs =y(55);
rhs =100*(y(28)-params(46));
residual(56)= lhs-rhs;
lhs =y(84);
rhs =100*(y(74)-params(46));
residual(57)= lhs-rhs;
lhs =y(56);
rhs =100*log(y(26)/params(47));
residual(58)= lhs-rhs;
lhs =y(89);
rhs =100*log(y(79)/params(47));
residual(59)= lhs-rhs;
lhs =y(57);
rhs =100*log(y(27)/params(21));
residual(60)= lhs-rhs;
lhs =y(67);
rhs =100*log(y(23)/params(65));
residual(61)= lhs-rhs;
lhs =y(68);
rhs =4*y(59);
residual(62)= lhs-rhs;
lhs =y(45);
rhs =y(56)+y(58);
residual(63)= lhs-rhs;
lhs =y(29);
rhs =y(52)+y(55)+y(53);
residual(64)= lhs-rhs;
lhs =y(46);
rhs =y(49)-y(99);
residual(65)= lhs-rhs;
lhs =y(30);
rhs =100*log(y(22)/params(68));
residual(66)= lhs-rhs;
lhs =y(61);
rhs =(params(60)-(1-params(56))*params(63)*(1-params(57)))*y(15)-params(63)*y(16)+y(59)*(1-params(56))*params(63)*(1-params(57))+y(60)*params(63);
residual(67)= lhs-rhs;
lhs =y(64);
rhs =y(15)*(1-params(57))*(1-params(56))*(-params(64))+y(16)*(params(59)-params(64))+y(59)*(1-params(57))*(1-params(56))*params(64)+y(60)*params(64);
residual(68)= lhs-rhs;
lhs =y(62);
rhs =((params(60)-(1-params(56))*params(63)*(1-params(57)))*y(15)-params(63)*y(16)+y(59)*(1-params(56))*params(63)*(1-params(57))+y(60)*params(63))*T577;
residual(69)= lhs-rhs;
lhs =y(63);
rhs =(y(15)*(1-params(57))*(1-params(56))*(-params(64))+y(16)*(params(59)-params(64))+y(59)*(1-params(57))*(1-params(56))*params(64)+y(60)*params(64))*T581;
residual(70)= lhs-rhs;
lhs =y(65);
rhs =y(62)-y(15);
residual(71)= lhs-rhs;
lhs =y(66);
rhs =y(63)-y(16);
residual(72)= lhs-rhs;
if nargout >= 2,
  g1 = zeros(72, 110);

  %
  % Jacobian matrix
  %

T605 = getPowerDeriv(y(90)/y(20),(-params(26)),1);
T608 = T314*params(15)*y(47)*(-y(90))/(y(20)*y(20))*T605;
T615 = getPowerDeriv(T324,T70,1);
T631 = T314*params(15)*y(47)*T605*1/y(20);
T773 = T313*getPowerDeriv(y(94),(-1),1);
T806 = getPowerDeriv(params(9)*y(37)/y(38),T27,1);
T902 = params(19)*exp(y(59)/100)*0.01;
T969 = getPowerDeriv(params(9)*y(71)/y(72),T27,1);
T1022 = getPowerDeriv(T68,T70,1);
T1028 = getPowerDeriv(y(102)/y(83),(-params(26)),1);
T1033 = params(15)*y(47)*(-y(102))/(y(83)*y(83))*T1028/y(101);
T1045 = params(15)*y(47)*T1028*1/y(83)/y(101);
  g1(1,69)=1;
  g1(2,43)=(-((-y(70))/(y(43)*y(43))));
  g1(2,69)=1;
  g1(2,70)=(-(1/y(43)));
  g1(3,70)=(-(getPowerDeriv(y(70),T30,1)));
  g1(3,71)=params(9)/y(72)*T969;
  g1(3,72)=T969*(-(params(9)*y(71)))/(y(72)*y(72));
  g1(4,70)=(-(T36*getPowerDeriv(y(70),T38,1)));
  g1(4,71)=1;
  g1(4,75)=(-(T39*params(7)*getPowerDeriv(y(75),1+params(27),1)));
  g1(5,70)=(-(y(75)*(1-y(74))*y(73)*getPowerDeriv(y(70),T47,1)));
  g1(5,72)=1;
  g1(5,73)=(-(T48*y(75)*(1-y(74))));
  g1(5,74)=(-(T48*y(75)*(-y(73))));
  g1(5,75)=(-((1-y(74))*y(73)*T48));
  g1(6,42)=(-1);
  g1(6,82)=1;
  g1(6,83)=(-1);
  g1(7,43)=(-y(75));
  g1(7,75)=(-y(43));
  g1(7,82)=1;
  g1(8,76)=1;
  g1(8,83)=(-((1+y(88))*params(42)*getPowerDeriv(y(83),params(26),1)/y(88)*T1022));
  g1(8,88)=(-(T1022*(T64*y(88)-T64*(1+y(88)))/(y(88)*y(88))));
  g1(9,47)=(-(y(80)*params(15)*T79));
  g1(9,80)=(-T80);
  g1(9,83)=(-(y(80)*params(15)*y(47)*(-y(102))/(y(83)*y(83))*T1028));
  g1(9,102)=(-(y(80)*params(15)*y(47)*T1028*1/y(83)));
  g1(10,47)=(-((1+y(86)-y(104)*(1-params(4))*(y(103)-y(86)))*params(15)*T79/y(101)));
  g1(10,101)=(-((1+y(86)-y(104)*(1-params(4))*(y(103)-y(86)))*(-T80)/(y(101)*y(101))));
  g1(10,83)=(-((1+y(86)-y(104)*(1-params(4))*(y(103)-y(86)))*T1033));
  g1(10,102)=(-((1+y(86)-y(104)*(1-params(4))*(y(103)-y(86)))*T1045));
  g1(10,86)=(-(T85*(1-(-(y(104)*(1-params(4)))))));
  g1(10,103)=(-(T85*(-(y(104)*(1-params(4))))));
  g1(10,104)=(-(T85*(-((1-params(4))*(y(103)-y(86))))));
  g1(11,47)=(-((1+y(104)*(1-params(4)))*params(15)*T79/y(101)));
  g1(11,101)=(-((1+y(104)*(1-params(4)))*(-T80)/(y(101)*y(101))));
  g1(11,83)=(-((1+y(104)*(1-params(4)))*T1033));
  g1(11,102)=(-((1+y(104)*(1-params(4)))*T1045));
  g1(11,87)=1;
  g1(11,104)=(-(T85*(1-params(4))));
  g1(12,73)=1;
  g1(12,83)=(-(getPowerDeriv(y(83),(-params(26)),1)));
  g1(13,4)=(-((1-params(4))/y(81)));
  g1(13,44)=(-1);
  g1(13,77)=(-1);
  g1(13,79)=1;
  g1(13,81)=(-((-((1-params(4))*y(4)))/(y(81)*y(81))));
  g1(14,3)=y(4)*(1-params(4))/y(81);
  g1(14,4)=(1-params(4))*y(3)/y(81);
  g1(14,44)=y(78);
  g1(14,77)=y(86);
  g1(14,78)=(-(y(79)-y(44)));
  g1(14,79)=(-y(78));
  g1(14,81)=y(4)*(-((1-params(4))*y(3)))/(y(81)*y(81));
  g1(14,86)=y(77);
  g1(15,2)=(-(1/y(81)));
  g1(15,3)=(-(y(4)/y(81)));
  g1(15,4)=(-((params(4)+y(3))/y(81)));
  g1(15,42)=(-1);
  g1(15,70)=y(75)*y(74);
  g1(15,74)=y(70)*y(75);
  g1(15,75)=y(70)*y(74);
  g1(15,76)=1;
  g1(15,77)=1;
  g1(15,81)=(-((-y(2))/(y(81)*y(81))))-(-(y(4)*(params(4)+y(3))))/(y(81)*y(81));
  g1(16,17)=(-(params(32)/4));
  g1(16,84)=0.25;
  g1(16,85)=(-(params(34)/4));
  g1(16,89)=(-(params(33)/4));
  g1(17,59)=(-T902);
  g1(17,81)=1;
  g1(18,80)=1;
  g1(18,101)=(-((-(1+y(88)))/(y(101)*y(101))));
  g1(18,88)=(-(1/y(101)));
  g1(19,18)=(-(y(33)*y(34)));
  g1(19,31)=1;
  g1(19,93)=(-T192);
  g1(19,32)=(-(y(93)*T191*T177*getPowerDeriv(y(32),params(17)*(-params(13)),1)));
  g1(19,94)=(-(y(93)*T191*T182*params(15)*params(16)*getPowerDeriv(y(94),params(17),1)));
  g1(19,33)=(-(y(18)*y(34)));
  g1(19,34)=(-(y(18)*y(33)));
  g1(19,100)=(-(y(93)*T177*T182*params(19)*exp(y(100)/100)*0.01*getPowerDeriv(T187,(-params(17))*(1-params(13)),1)));
  g1(20,18)=(-y(33));
  g1(20,32)=(-(y(98)*T207*T201*getPowerDeriv(y(32),params(13)*(1-params(17)),1)));
  g1(20,94)=(-(y(98)*T207*T204*params(15)*params(16)*getPowerDeriv(y(94),params(17)-1,1)));
  g1(20,33)=(-y(18));
  g1(20,39)=1;
  g1(20,98)=(-(T201*T204*T207));
  g1(20,100)=(-(y(98)*T201*T204*params(19)*exp(y(100)/100)*0.01*getPowerDeriv(T187,(1-params(13))*(1-params(17)),1)));
  g1(21,31)=(-(params(38)/y(39)));
  g1(21,39)=(-((-(params(38)*y(31)))/(y(39)*y(39))));
  g1(21,40)=1;
  g1(22,5)=(-(T223*T219*getPowerDeriv(y(5),params(13)*(1-params(17)),1)));
  g1(22,32)=(-(T222*getPowerDeriv(y(32),params(17)-1,1)));
  g1(22,40)=(-((1-params(16))*getPowerDeriv(y(40),1-params(17),1)));
  g1(22,59)=(-(T223*T221*params(16)*T902*getPowerDeriv(T161,(1-params(13))*(1-params(17)),1)));
  g1(23,34)=1;
  g1(23,41)=(-(1/y(43)));
  g1(23,43)=(-((-y(41))/(y(43)*y(43))));
  g1(24,5)=(-(T241*y(32)*getPowerDeriv(y(5),(-params(8)),1)));
  g1(24,32)=(-(T238*T241));
  g1(24,36)=1;
  g1(24,59)=(-(y(32)*T238*T902*getPowerDeriv(T161,params(8)-1,1)));
  g1(25,36)=(-(T255*getPowerDeriv(y(36),(-1)/(1-params(9)),1)));
  g1(25,37)=(-((1-params(10))*params(9)/y(38)*T806));
  g1(25,38)=(-((1-params(10))*T806*(-(params(9)*y(37)))/(y(38)*y(38))));
  g1(25,6)=(-(T257*params(10)*getPowerDeriv(y(6),T30,1)));
  g1(25,41)=getPowerDeriv(y(41),T30,1);
  g1(26,21)=(-(T264*params(7)*getPowerDeriv(y(21),1+params(27),1)));
  g1(26,95)=(-(y(96)*params(15)*params(10)*getPowerDeriv(y(95),T38,1)));
  g1(26,37)=1;
  g1(26,96)=(-T269);
  g1(26,41)=(-(T263*getPowerDeriv(y(41),T38,1)));
  g1(27,21)=(-(y(33)*(1-y(28))*T278));
  g1(27,28)=(-(T278*y(21)*(-y(33))));
  g1(27,33)=(-(T278*y(21)*(1-y(28))));
  g1(27,95)=(-(y(97)*params(15)*params(10)*getPowerDeriv(y(95),1/(params(9)-1),1)));
  g1(27,38)=1;
  g1(27,97)=(-T282);
  g1(27,41)=(-(y(21)*y(33)*(1-y(28))*getPowerDeriv(y(41),T47,1)));
  g1(28,18)=1;
  g1(28,20)=(-1);
  g1(28,42)=(-1);
  g1(29,18)=1;
  g1(29,19)=(-((-(y(43)*y(21)))/(y(19)*y(19))));
  g1(29,21)=(-(y(43)/y(19)));
  g1(29,43)=(-(y(21)/y(19)));
  g1(30,1)=(-T305);
  g1(30,19)=1;
  g1(30,5)=(-(y(1)*T302*getPowerDeriv(y(5),params(13)*(-params(17)),1)));
  g1(30,32)=(-(y(1)*T304*T301*params(16)*getPowerDeriv(y(32),params(17),1)));
  g1(30,40)=(-((1-params(16))*getPowerDeriv(y(40),(-params(17)),1)));
  g1(30,59)=(-(y(1)*T304*T300*T902*getPowerDeriv(T161,(-params(17))*(1-params(13)),1)));
  g1(31,20)=(-((1+y(35))*T608));
  g1(31,90)=(-((1+y(35))*T631));
  g1(31,94)=(-((1+y(35))*T773));
  g1(31,35)=(-T315);
  g1(31,47)=(-((1+y(35))*T314*params(15)*T312));
  g1(32,20)=(-((1+y(35))*params(42)*getPowerDeriv(y(20),params(26),1)/y(35)*T615));
  g1(32,23)=1;
  g1(32,35)=(-(T615*(y(35)*T322-(1+y(35))*T322)/(y(35)*y(35))));
  g1(33,20)=(-((1+y(24)-(1-params(4))*y(91)*(y(92)-y(24)))*T608));
  g1(33,90)=(-((1+y(24)-(1-params(4))*y(91)*(y(92)-y(24)))*T631));
  g1(33,91)=(-(T315*(-((1-params(4))*(y(92)-y(24))))));
  g1(33,24)=(-(T315*(1-(-((1-params(4))*y(91))))));
  g1(33,92)=(-(T315*(-((1-params(4))*y(91)))));
  g1(33,94)=(-((1+y(24)-(1-params(4))*y(91)*(y(92)-y(24)))*T773));
  g1(33,47)=(-((1+y(24)-(1-params(4))*y(91)*(y(92)-y(24)))*T314*params(15)*T312));
  g1(34,20)=(-((1+(1-params(4))*y(91))*T608));
  g1(34,90)=(-((1+(1-params(4))*y(91))*T631));
  g1(34,22)=1;
  g1(34,91)=(-((1-params(4))*T315));
  g1(34,94)=(-((1+(1-params(4))*y(91))*T773));
  g1(34,47)=(-((1+(1-params(4))*y(91))*T314*params(15)*T312));
  g1(35,20)=(-(getPowerDeriv(y(20),(-params(26)),1)));
  g1(35,33)=1;
  g1(36,4)=(-((1-params(4))/y(32)));
  g1(36,26)=1;
  g1(36,27)=(-1);
  g1(36,32)=(-((-((1-params(4))*y(4)))/(y(32)*y(32))));
  g1(36,44)=(-1);
  g1(37,24)=y(27);
  g1(37,3)=y(4)*(1-params(4))/y(32);
  g1(37,25)=(-(y(26)-y(44)));
  g1(37,4)=(1-params(4))*y(3)/y(32);
  g1(37,26)=(-y(25));
  g1(37,27)=y(24);
  g1(37,32)=y(4)*(-((1-params(4))*y(3)))/(y(32)*y(32));
  g1(37,44)=y(25);
  g1(38,21)=y(41)*y(28);
  g1(38,2)=(-(1/y(32)));
  g1(38,23)=1;
  g1(38,3)=(-(y(4)*1/y(32)));
  g1(38,4)=(-((params(4)+y(3))/y(32)));
  g1(38,27)=1;
  g1(38,28)=y(41)*y(21);
  g1(38,32)=(-((-y(2))/(y(32)*y(32))))-y(4)*(-(params(4)+y(3)))/(y(32)*y(32));
  g1(38,41)=y(21)*y(28);
  g1(38,42)=(-1);
  g1(39,12)=(-params(32));
  g1(39,55)=1;
  g1(39,56)=(-params(33));
  g1(40,48)=(-((1-params(56))*params(58)));
  g1(40,11)=(-(params(56)/4));
  g1(40,49)=0.25;
  g1(40,51)=(-((1-params(56))*params(57)*0.25));
  g1(40,59)=(-((1-params(56))*(1-params(57))));
  g1(40,60)=(-1);
  g1(40,85)=(-((1-params(56))*(-params(58))));
  g1(41,13)=(-params(60));
  g1(41,59)=1;
  g1(41,109)=(-1);
  g1(42,14)=(-params(59));
  g1(42,60)=1;
  g1(42,108)=(-1);
  g1(43,8)=(-(exp(x(it_, 1))*1/params(44)*getPowerDeriv(y(8)/params(44),params(54),1)));
  g1(43,43)=1/params(44);
  g1(43,105)=(-T419);
  g1(44,7)=(-(exp(x(it_, 2)/100)*1/params(45)*getPowerDeriv(y(7)/params(45),params(55),1)));
  g1(44,42)=1/params(45);
  g1(44,106)=(-(T427*exp(x(it_, 2)/100)*0.01));
  g1(45,9)=(-params(48));
  g1(45,44)=1;
  g1(45,107)=(-1);
  g1(46,10)=(-(params(67)*1/y(10)));
  g1(46,47)=1/y(47);
  g1(46,110)=(-1);
  g1(47,32)=(-(4*100*1/params(19)/(y(32)/params(19))));
  g1(47,51)=1;
  g1(48,35)=(-400);
  g1(48,49)=1;
  g1(49,24)=(-400);
  g1(49,50)=1;
  g1(50,25)=(-400);
  g1(50,58)=1;
  g1(51,18)=(-(100*1/params(35)/(y(18)/params(35))));
  g1(51,48)=1;
  g1(52,82)=(-(100*1/params(35)/(y(82)/params(35))));
  g1(52,85)=1;
  g1(53,20)=(-(100*1/params(2)/(y(20)/params(2))));
  g1(53,54)=1;
  g1(54,41)=(-(100*1/params(43)/(y(41)/params(43))));
  g1(54,53)=1;
  g1(55,21)=(-(100*1/params(36)/(y(21)/params(36))));
  g1(55,52)=1;
  g1(56,28)=(-100);
  g1(56,55)=1;
  g1(57,74)=(-100);
  g1(57,84)=1;
  g1(58,26)=(-(100*1/params(47)/(y(26)/params(47))));
  g1(58,56)=1;
  g1(59,79)=(-(100*1/params(47)/(y(79)/params(47))));
  g1(59,89)=1;
  g1(60,27)=(-(100*1/params(21)/(y(27)/params(21))));
  g1(60,57)=1;
  g1(61,23)=(-(100*1/params(65)/(y(23)/params(65))));
  g1(61,67)=1;
  g1(62,59)=(-4);
  g1(62,68)=1;
  g1(63,45)=1;
  g1(63,56)=(-1);
  g1(63,58)=(-1);
  g1(64,29)=1;
  g1(64,52)=(-1);
  g1(64,53)=(-1);
  g1(64,55)=(-1);
  g1(65,46)=1;
  g1(65,49)=(-1);
  g1(65,99)=1;
  g1(66,22)=(-(100*1/params(68)/(y(22)/params(68))));
  g1(66,30)=1;
  g1(67,59)=(-((1-params(56))*params(63)*(1-params(57))));
  g1(67,60)=(-params(63));
  g1(67,15)=(-(params(60)-(1-params(56))*params(63)*(1-params(57))));
  g1(67,61)=1;
  g1(67,16)=params(63);
  g1(68,59)=(-((1-params(57))*(1-params(56))*params(64)));
  g1(68,60)=(-params(64));
  g1(68,15)=(-((1-params(57))*(1-params(56))*(-params(64))));
  g1(68,16)=(-(params(59)-params(64)));
  g1(68,64)=1;
  g1(69,59)=(-((1-params(56))*params(63)*(1-params(57))*T577));
  g1(69,60)=(-(params(63)*T577));
  g1(69,15)=(-((params(60)-(1-params(56))*params(63)*(1-params(57)))*T577));
  g1(69,62)=1;
  g1(69,16)=(-(T577*(-params(63))));
  g1(70,59)=(-((1-params(57))*(1-params(56))*params(64)*T581));
  g1(70,60)=(-(params(64)*T581));
  g1(70,15)=(-((1-params(57))*(1-params(56))*(-params(64))*T581));
  g1(70,63)=1;
  g1(70,16)=(-((params(59)-params(64))*T581));
  g1(71,15)=1;
  g1(71,62)=(-1);
  g1(71,65)=1;
  g1(72,63)=(-1);
  g1(72,16)=1;
  g1(72,66)=1;

if nargout >= 3,
  %
  % Hessian matrix
  %

  g2 = sparse([],[],[],72,12100);
if nargout >= 4,
  %
  % Third order derivatives
  %

  g3 = sparse([],[],[],72,1331000);
end
end
end
end
